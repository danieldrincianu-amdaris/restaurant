schema: 1
story: '4.8'
story_title: 'Print Kitchen Tickets'
gate: PENDING
status_reason: 'Story drafted, awaiting implementation'
reviewer: ''
updated: '2026-01-20T12:21:00Z'

top_issues: []

waiver:
  active: false

quality_score: 0
expires: ''

evidence:
  tests_reviewed: 0
  tests_added: 0
  tests_passing: 0
  tests_failing: 0
  files_modified: 0
  files_created: 0
  risks_identified: 0
  
  trace:
    ac_covered: []
    ac_gaps: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
  
  test_breakdown:
    unit:
      count: 0
      coverage: []
    integration:
      count: 0
      coverage: []
    component:
      count: 0
      coverage: []

acceptance_criteria:
  ac1:
    description: 'Print button visible on each KitchenOrderCard'
    status: pending
    evidence: []
    
  ac2:
    description: 'Print button available in order detail view'
    status: pending
    evidence: []
    
  ac3:
    description: 'Print opens browser dialog with thermal-receipt layout'
    status: pending
    evidence: []
    
  ac4:
    description: 'Ticket includes Order ID, Table, Server, Time, Items by category'
    status: pending
    evidence: []
    
  ac5:
    description: 'Each item shows quantity, name, special instructions'
    status: pending
    evidence: []
    
  ac6:
    description: 'Ticket includes prices and order total'
    status: pending
    evidence: []
    
  ac7:
    description: 'QR code links to order detail page'
    status: pending
    evidence: []
    
  ac8:
    description: 'Print-specific CSS for clean output'
    status: pending
    evidence: []
    
  ac9:
    description: 'Ticket header shows restaurant name and print timestamp'
    status: pending
    evidence: []
    
  ac10:
    description: 'Multiple tickets printable without refresh'
    status: pending
    evidence: []

notes: |
  ## Implementation Notes
  
  - Uses browser native window.print() API
  - QR code library: qrcode.react
  - Thermal receipt width: 80mm
  - Restaurant name configurable via VITE_RESTAURANT_NAME env var
  
  ## Testing Focus
  
  - PrintableTicket component rendering
  - Category grouping logic
  - QR code generation and scannability
  - Cross-browser print compatibility
  - Print button integration with KitchenOrderCard
